# Flask Application Settings
# IMPORTANT: Generate a strong secret key for production!
# Run: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-this-to-a-random-secret-key

# Flask Environment (development or production)
FLASK_ENV=development
FLASK_DEBUG=1

# SpaceIQ Configuration
SPACEIQ_URL=https://your-spaceiq-instance.com

# Browser Configuration
CDP_PORT=9222
TIMEOUT=30000

# Headless Mode
# Set to "true" for background mode (no visible browser)
# Set to "false" for visible browser (useful for debugging)
# Note: Session warming (auto_warm_session.py) needs visible browser for SSO login
HEADLESS=false

# Booking Configuration
# Only attempt to book today's date if current time is before this cutoff
# Format: 24-hour time (hour and minute)
# After this time, the bot assumes you don't need a desk for today
# Example: 9:30 AM cutoff means bot won't try to book today after 9:30 AM
BOOKING_TODAY_CUTOFF_HOUR=9
BOOKING_TODAY_CUTOFF_MINUTE=30

# Logging Configuration
# ENABLE_CONSOLE_LOGGING: Captures all UI output to console_*.log files
# With ANSI stripping enabled, files are ~80% smaller (10-50MB instead of 100MB-2GB)
# Set to "false" to save disk space (booking_*.log still has all important info)
ENABLE_CONSOLE_LOGGING=true

# STRIP_ANSI_FROM_LOGS: Remove color codes from console logs (reduces file size by ~80%)
# Highly recommended to keep this enabled if ENABLE_CONSOLE_LOGGING=true
STRIP_ANSI_FROM_LOGS=true

# Screenshot Configuration
# DEBUG_MODE: Save screenshots for every step
# IMPORTANT: MUST be "true" for CV-based desk booking to work!
# The bot's computer vision system needs screenshots to detect available desks (blue circles)
# Only set to "false" if using API-based booking without computer vision
# Note: Screenshots are cleaned up automatically based on SCREENSHOT_RETENTION setting
DEBUG_MODE=true

# SCREENSHOT_RETENTION: Number of recent screenshot sessions to keep
# Set to 1 to keep only the current session (saves disk space)
# Set to 2-3 if you want to compare recent runs
SCREENSHOT_RETENTION=1

# Supabase Configuration (User Whitelisting & Usage Tracking)
# Get these from: Supabase Dashboard → Settings → API
# The anon key is safe to share publicly - it's restricted by Row Level Security
SUPABASE_URL=https://yourproject.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here

# Development Mode (for testing only - DO NOT enable in production)
# Allows --skip-validation flag to bypass Supabase whitelist
# SECURITY WARNING: Only enable this on your own machine for development
DEV_MODE=false

# Authentication
AUTH_STATE_FILE=playwright/.auth/auth.json

# Log Size Limits (prevents multi-GB logs during long runs)
# MAX_CONSOLE_LOG_SIZE_MB: Maximum size for console logs before rotation (default: 100MB)
# When limit is reached, oldest 30% of log is removed, keeping recent 70%
MAX_CONSOLE_LOG_SIZE_MB=100

# MAX_BOOKING_LOG_SIZE_MB: Maximum size for booking logs before rotation (default: 50MB)
# Uses rotating file handler with backup files (e.g., booking.log, booking.log.1, booking.log.2)
MAX_BOOKING_LOG_SIZE_MB=50

# LOG_BACKUP_COUNT: Number of rotated log backups to keep (default: 3)
# With 50MB max and 3 backups, maximum disk usage is ~200MB per log type
LOG_BACKUP_COUNT=3
